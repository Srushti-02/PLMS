@model IEnumerable<PLMS.Models.DbModel.USER>

@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>EditAccess</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <table class="table">
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.userID)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.username)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.userpass)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.phoneNum)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.role)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.access)
            </th>
            <th>Change Access</th>
            <th>Action</th>
            <th></th>
        </tr>

        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(m => item.userID)
                </td>
                <td>
                    @Html.DisplayFor(m => item.username)
                </td>
                <td>
                    @Html.DisplayFor(m => item.userpass)
                </td>
                <td>
                    @Html.DisplayFor(m => item.phoneNum)
                </td>
                <td>
                    @Html.DisplayFor(m => item.role)
                </td>
                <td>
                    @Html.DisplayFor(m => item.access)
                </td>
                @using (Html.BeginForm("EditAccess", "Admin", FormMethod.Post))
                {
                    <td>

                        @Html.Hidden("Id", item.userID) <!-- Assuming Id is primary key -->
                        @Html.DropDownList("access", new SelectList(new[] {
                            new { Value = "Enabled", Text = "Activate" },
                            new { Value = "Disabled", Text = "Deactivate" }
                        }, "Value", "Text", item.access), new { @class = "form-control" })

                    </td>
                    <td>
                        <button type="submit" class="btn btn-success btn-sm">Update</button>
                    </td>
                }
            </tr>
        }
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
