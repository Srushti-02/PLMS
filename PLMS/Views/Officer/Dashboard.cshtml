@model IEnumerable<PLMS.Models.ModelViews.LOViewModel>

@{
    ViewBag.Title = "Loan Officer Dashboard";
}

<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Loan Officer Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-4">
        <h2>Welcome, Loan Officer</h2>
        <a href="@Url.Action("LogOut", "Home")" class="btn btn-danger float-end">Logout</a>

        <table class="table table-bordered mt-4">
            <thead>
                <tr>
                    <th>Applicant Name</th>
                    <th>Email</th>
                    <th>Address</th>
                    <th>Company</th>
                    <th>Status</th>
                    <th>Remark</th>
                    <th>Decision</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                    <tr>
                        <td>@item.ApplicantName</td>
                        <td>@item.Email</td>
                        <td>@item.Address</td>
                        <td>@item.CompanyName</td>
                        <td>@item.Status</td>
                        <td>@item.Remark</td>

                        @using (Html.BeginForm("UpdateStatus", "Officer", FormMethod.Post))
                        {
                            <td>
                                @Html.Hidden("applicationId", item.ApplicationId)
                                <select name="status" class="form-control">
                                    <option value="Approved">Approve</option>
                                    <option value="Rejected">Disapprove</option>
                                </select>
                            </td>
                            <td>
                                <input type="submit" value="Update" class="btn btn-primary" />

                            </td>
                        }
                    </tr>
                }
                        </tbody>
                    </table>
                </div>

                <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
            </body>
        </html>
